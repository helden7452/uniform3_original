# أدوات توحيد قوالب الصفحات لموقع خبراء الزي الموحد

هذا المستند يشرح كيفية استخدام الأدوات المساعدة التي تم إنشاؤها لضمان استخدام القالب الموحد في جميع صفحات المقالات بموقع خبراء الزي الموحد.

## القالب الموحد

القالب الموحد موجود في المسار التالي:

```
src/app/templates/post-template.tsx
```

هذا القالب يحتوي على الهيكل الأساسي لجميع صفحات المقالات، بما في ذلك:
- البيانات الوصفية (Metadata)
- فتات الخبز (Breadcrumb)
- صورة الغلاف
- معلومات الكاتب
- هيكل المقال
- الوسوم
- أزرار المشاركة
- الروابط ذات الصلة

## الأدوات المتاحة

### 1. فحص توافق الصفحات الحالية (update-all-pages.js)

هذه الأداة تقوم بفحص جميع صفحات المقالات في الموقع للتحقق من توافقها مع القالب الموحد، وتقوم بإنشاء تقرير بالصفحات التي تحتاج إلى تحديث.

#### كيفية الاستخدام:

```bash
node update-all-pages.js
```

### 2. إنشاء صفحة مقال جديدة (create-template-page.js)

هذه الأداة تساعد على إنشاء صفحة مقال جديدة باستخدام القالب الموحد. ستطلب الأداة المعلومات اللازمة مثل العنوان والوصف والمسار وغيرها.

#### كيفية الاستخدام:

```bash
node create-template-page.js
```

وستطلب منك الأداة إدخال المعلومات التالية:
- مسار القسم (مثل: security-uniforms)
- اسم المقال المختصر بالإنجليزية (مثل: choosing-fabric-guide)
- عنوان المقال بالعربية
- وصف المقال
- الكلمات المفتاحية
- عنوان القسم بالعربية
- اسم ملف الصورة

### 3. تحويل صفحة موجودة إلى القالب (convert-to-template.js)

هذه الأداة تقوم بتحويل صفحة مقال موجودة بالفعل لتتبع القالب الموحد. تقوم بقراءة محتوى الصفحة الحالية واستخراج المعلومات المهمة منها ودمجها مع القالب الموحد.

#### كيفية الاستخدام:

```bash
node convert-to-template.js
```

وستطلب منك الأداة إدخال مسار الملف الذي تريد تحويله.

**ملاحظة مهمة**: تقوم الأداة بإنشاء نسخة احتياطية من الملف الأصلي قبل تحديثه في مجلد `backups/` للرجوع إليها عند الحاجة.

## إرشادات عامة للمحافظة على توحيد القوالب

1. **استخدم دائماً أداة إنشاء صفحة جديدة**: عند إنشاء مقال جديد، استخدم دائماً أداة `create-template-page.js` بدلاً من نسخ ولصق صفحات موجودة.

2. **التحقق الدوري من التوافق**: قم بتشغيل أداة `update-all-pages.js` بشكل دوري للتأكد من أن جميع الصفحات تتبع القالب الموحد.

3. **تحديث القالب الموحد**: عند الحاجة إلى تغيير في هيكل جميع الصفحات، قم بتحديث القالب الموحد فقط ثم استخدم أدوات التحويل لتحديث الصفحات الموجودة.

4. **الاحتفاظ بنسخ احتياطية**: تأكد من وجود نسخ احتياطية قبل إجراء تغييرات جماعية على الصفحات.

## المميزات المستقبلية

في المستقبل، يمكن تطوير الأدوات لتشمل:
- تحديث جماعي لجميع الصفحات بناءً على تغييرات في القالب الموحد
- دعم أنواع أخرى من القوالب (مثل صفحات التصنيفات، صفحات العلامات، الخ)
- التحقق من صحة الروابط والصور في جميع المقالات
- تحسين استخراج المحتوى ودمجه مع القالب

## المشاكل الشائعة وحلولها

### المشكلة: بعض العناصر لا تظهر بشكل صحيح بعد التحويل

**الحل**: قد تحتاج إلى تعديل بعض التنسيقات يدوياً بعد التحويل إلى القالب الموحد. تحقق من وجود وسوم HTML غير مغلقة أو تنسيقات CSS متضاربة.

### المشكلة: الصور لا تظهر بعد التحويل

**الحل**: تأكد من أن مسارات الصور صحيحة وأن الصور موجودة فعلاً في المجلدات المشار إليها. قد تحتاج إلى تعديل مسارات الصور يدوياً إذا كانت تستخدم بنية مسار مختلفة.

### المشكلة: فتات الخبز (Breadcrumb) لا تعمل بشكل صحيح

**الحل**: تحقق من المسارات في مكون فتات الخبز وتأكد من أنها تشير إلى المسارات الصحيحة في تطبيق Next.js. 